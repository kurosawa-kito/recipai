@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom animations for gift box */
@keyframes sparkleShootAndFall {
  0% {
    transform: translate(0, 0) scale(0);
    opacity: 0;
  }
  3% {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
  /* 上に吹き出す - 時間を長く */
  35% {
    transform: translate(var(--peak-x, 0px), var(--peak-y, -400px)) scale(1.3)
      rotate(360deg);
    opacity: 1;
  }
  40% {
    opacity: 0;
  }
  /* 画面外で待機 */
  42% {
    transform: translate(
        var(--peak-x, 0px),
        calc(var(--peak-y, -400px) - 300px)
      )
      scale(0);
    opacity: 0;
  }
  /* 上から降ってくる - スムーズに */
  45% {
    transform: translate(
        var(--peak-x, 0px),
        calc(var(--peak-y, -400px) - 300px)
      )
      scale(0.8);
    opacity: 1;
  }
  55% {
    transform: translate(var(--peak-x, 0px), -100px) scale(1) rotate(180deg);
    opacity: 1;
  }
  70% {
    transform: translate(var(--peak-x, 0px), 200px) scale(1.1) rotate(360deg);
    opacity: 1;
  }
  85% {
    transform: translate(var(--peak-x, 0px), 600px) scale(1) rotate(540deg);
    opacity: 0.8;
  }
  100% {
    transform: translate(var(--peak-x, 0px), var(--fall-distance, 1000px))
      scale(0.8) rotate(720deg);
    opacity: 0;
  }
}

@keyframes lidOpen {
  0% {
    transform: translateX(-50%) rotateX(0deg);
    transform-origin: bottom;
  }
  100% {
    transform: translateX(-50%) rotateX(-120deg) translateY(-40px);
    transform-origin: bottom;
  }
}

@keyframes ticketAppear {
  0% {
    opacity: 0;
    transform: scale(0.1) translateY(100px);
    filter: blur(20px);
  }
  50% {
    opacity: 0.5;
    filter: blur(5px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
}

@keyframes ticketFloat {
  0%,
  100% {
    transform: translateY(0) rotate(-1.5deg) scale(1);
  }
  25% {
    transform: translateY(-12px) rotate(0deg) scale(1.01);
  }
  50% {
    transform: translateY(-8px) rotate(1.5deg) scale(1.02);
  }
  75% {
    transform: translateY(-12px) rotate(0deg) scale(1.01);
  }
}

.sparkle-fall-particle {
  animation: sparkleShootAndFall var(--total-time, 5s) ease-in-out forwards;
  will-change: transform, opacity;
}

.box-lid-open {
  animation: lidOpen 1s ease-out forwards;
}

@keyframes boxFadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.box-fadeout {
  animation: boxFadeOut 2s ease-out forwards;
}

@keyframes cardLongFadeIn {
  0% {
    opacity: 0;
    transform: scale(0.7) translateY(80px);
    filter: blur(10px);
  }
  50% {
    opacity: 0.5;
    filter: blur(3px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
}

.card-long-fadein {
  animation: cardLongFadeIn 4s ease-out forwards;
}

.ticket-card-wrapper-long {
  display: inline-block;
}

.ticket-card-wrapper-long:hover .ticket-card-container {
  transform: scale(1.05) translateY(-8px);
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.ticket-card-wrapper {
  animation: ticketAppear 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.ticket-card-wrapper:hover .ticket-card-container {
  transform: scale(1.05) translateY(-8px);
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.ticket-image {
  max-width: 90vw;
  height: auto;
}
